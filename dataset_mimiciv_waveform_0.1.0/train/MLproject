name: mimiciv_waveform010_initial

docker_env:
    image: eshan75/automatic_system:training_predicting_bp
    volumes: ["$(pwd)/data:/opt/data", "/tmp/automatic_system/train"]

entry_points:
    train:
        parameters:
            upstream: {type: string, default: ""}
            downstream: {type: string, default: ""}
            tensorboard: {type: string, default: /opt/data/tensorboard/}
            epochs: {type: int, default: 32}
            num_workers: {type: int, default: 4}
            learning_rate: {type: float, default: 0.001}
            model_type: {type: string, default: randomforest}
        command: |
            python -m src.train \
                --upstream {upstream} \
                --downstream {downstream} \
                --tensorboard {tensorboard} \
                --epochs {epochs} \
                --batch_size {batch_size} \
                --num_workers {num_workers} \
                --learning_rate {learning_rate} \
                --model_type {model_type}
